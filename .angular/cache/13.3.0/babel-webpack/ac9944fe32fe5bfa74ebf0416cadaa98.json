{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CategoriesComponent = void 0;\n\nconst tslib_1 = require(\"tslib\");\n\nconst router_1 = require(\"@angular/router\");\n\nconst cross_service_1 = require(\"../../services/cross.service\");\n\nconst i0 = (0, tslib_1.__importStar)(require(\"@angular/core\"));\nconst i1 = (0, tslib_1.__importStar)(require(\"@angular/router\"));\nconst i2 = (0, tslib_1.__importStar)(require(\"../../services/cross.service\"));\nconst i3 = (0, tslib_1.__importStar)(require(\"@angular/common\"));\nconst i4 = (0, tslib_1.__importStar)(require(\"@mobiscroll/angular\"));\nconst i5 = (0, tslib_1.__importStar)(require(\"@angular/cdk/bidi\"));\nconst i6 = (0, tslib_1.__importStar)(require(\"@angular/forms\"));\n\nfunction CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_mbsc_listview_item_10_mbsc_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mbsc-button\", 13);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_mbsc_listview_item_10_mbsc_button_4_Template_mbsc_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      const last_r9 = ctx_r13.$implicit;\n      const i3_r10 = ctx_r13.index;\n      const i2_r7 = i0.ɵɵnextContext().index;\n      const i1_r4 = i0.ɵɵnextContext().index;\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return ctx_r12.lastNodeClicked(last_r9, i1_r4, i2_r7, i3_r10);\n    });\n    i0.ɵɵtext(1, \"Edit\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_mbsc_listview_item_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mbsc-listview-item\", 12)(1, \"mbsc-checkbox\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_mbsc_listview_item_10_Template_mbsc_checkbox_ngModelChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r18);\n      const last_r9 = restoredCtx.$implicit;\n      return last_r9.selected = $event;\n    });\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(4, CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_mbsc_listview_item_10_mbsc_button_4_Template, 2, 0, \"mbsc-button\", 16);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const last_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"id\", last_r9.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", last_r9.selected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(last_r9.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", last_r9.selected);\n  }\n}\n\nfunction CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mbsc-listview-item\", 12);\n    i0.ɵɵelement(1, \"span\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"mbsc-listview-sublist\")(4, \"mbsc-listview-header\")(5, \"span\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"mbsc-button\", 13);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_Template_mbsc_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const i2_r7 = restoredCtx.index;\n      const i1_r4 = i0.ɵɵnextContext().index;\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.newService(i1_r4, i2_r7);\n    });\n    i0.ɵɵelementStart(8, \"span\", 14);\n    i0.ɵɵtext(9, \" Add\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(10, CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_mbsc_listview_item_10_Template, 5, 4, \"mbsc-listview-item\", 11);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const subcategory_r6 = ctx.$implicit;\n    const category_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"id\", subcategory_r6.label);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", subcategory_r6.label, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate2(\"\", category_r3.label, \" >> \", subcategory_r6.label, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", subcategory_r6.children);\n  }\n}\n\nfunction CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mbsc-listview-item\");\n    i0.ɵɵelement(1, \"span\", 9);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"mbsc-listview-sublist\")(4, \"mbsc-listview-header\")(5, \"span\", 10);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_mbsc_listview_item_7_Template, 11, 5, \"mbsc-listview-item\", 11);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const category_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", category_r3.label, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(category_r3.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", category_r3.children);\n  }\n}\n\nfunction CategoriesComponent_mbsc_form_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mbsc-form\", 2)(1, \"h3\", 3);\n    i0.ɵɵtext(2, \"Services\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"mbsc-listview\", 4);\n    i0.ɵɵlistener(\"onItemTap\", function CategoriesComponent_mbsc_form_0_Template_mbsc_listview_onItemTap_4_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext();\n      return ctx_r23.onTap($event);\n    });\n    i0.ɵɵtemplate(5, CategoriesComponent_mbsc_form_0_mbsc_listview_item_5_Template, 8, 3, \"mbsc-listview-item\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 6)(7, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_mbsc_form_0_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.goBack();\n    });\n    i0.ɵɵtext(8, \"Previous\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 8);\n    i0.ɵɵlistener(\"click\", function CategoriesComponent_mbsc_form_0_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r26 = i0.ɵɵnextContext();\n      return ctx_r26.proceed();\n    });\n    i0.ɵɵtext(10, \"Next\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"options\", ctx_r0.formSettings);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"options\", ctx_r0.listviewSettings);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.services2);\n  }\n}\n\nfunction CategoriesComponent_router_outlet_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"router-outlet\");\n  }\n}\n\nclass CategoriesComponent {\n  constructor(router, activeRoute, crossService) {\n    this.router = router;\n    this.activeRoute = activeRoute;\n    this.crossService = crossService; // @ViewChild('myList')\n    // myList: any;\n\n    this.formSettings = {\n      theme: 'ios'\n    };\n    this.nonFormSettings = {\n      theme: 'ios',\n      display: 'bottom',\n      maxWidth: 50,\n      cssClass: 'demo-non-form'\n    };\n    this.listviewSettings = {\n      theme: 'mobiscroll',\n      swipe: false,\n      enhance: true,\n      onInit: (event, inst) => {\n        console.log('Navigating to ' + this.selectedId);\n        inst.navigate(this.selectedId);\n      }\n    };\n    this.items = [{\n      value: 15,\n      text: '15'\n    }, {\n      value: 30,\n      text: '30'\n    }, {\n      value: 45,\n      text: '45'\n    }];\n    this.slider = 15;\n    this.activateTab = false;\n    this.crossService.retrieveServiceData();\n  }\n\n  ngOnInit() {\n    this.crossService.getRecievedData().subscribe(data => {\n      this.services2 = data;\n      console.log('Data Recieved');\n      console.log(this.services2);\n      this.servicesVisible = true;\n    }); // if(this.crossService.getServiceData()){\n    //   this.services2 = this.crossService.getServiceData();\n    //   this.servicesVisible = true;\n    // }\n    // this.crossService.sendRecievedData();\n\n    this.activeRoute.queryParams.subscribe(params => {\n      this.selectedId = params.name;\n\n      if (this.crossService.getSelectedService()) {\n        let i1 = this.crossService.getSelectedService().index1;\n        let i2 = this.crossService.getSelectedService().index2;\n        let i3 = this.crossService.getSelectedService().index3;\n        this.services2[i1].children[i2].children[i3] = this.crossService.getSelectedService().service;\n      }\n\n      if (params.close) {\n        this.closeDetails();\n      }\n    });\n  }\n\n  proceed() {\n    this.router.navigate(['../employees'], {\n      relativeTo: this.activeRoute\n    });\n  } // onEndNav(event) {\n  //   if (event.level === 2) {\n  //     this.activateTab = true;\n  //   }\n  //   else {\n  //     this.activateTab = false;\n  //   }\n  // }\n\n\n  onTap(event) {// console.log(event);\n    // if(this.activateTab && event.target.textContent != 'Back' && event.target.innerText != ''){\n    //   console.log(event.target.innerText);\n    // }\n    // return false;\n  }\n\n  lastNodeClicked(last, index1, index2, index3) {\n    console.log('Edit clicked');\n    this.activateTab = true;\n    this.crossService.setSelectedService(last, index1, index2, index3);\n    this.router.navigate(['serviceDetails'], {\n      relativeTo: this.activeRoute\n    });\n  }\n\n  newService(catIndex, subCatIndex) {\n    this.activateTab = true;\n    this.router.navigate(['serviceDetails'], {\n      relativeTo: this.activeRoute,\n      queryParams: {\n        mode: 'new',\n        catIndex: catIndex,\n        subCatIndex: subCatIndex\n      }\n    });\n  }\n\n  goBack() {\n    this.router.navigate(['../hours'], {\n      relativeTo: this.activeRoute\n    });\n  }\n\n  closeDetails() {\n    this.activateTab = false;\n  }\n\n}\n\nexports.CategoriesComponent = CategoriesComponent;\n\nCategoriesComponent.ɵfac = function CategoriesComponent_Factory(t) {\n  return new (t || CategoriesComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.CrossService));\n};\n\nCategoriesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CategoriesComponent,\n  selectors: [[\"app-categories\"]],\n  decls: 2,\n  vars: 2,\n  consts: [[\"dir\", \"ltr\", 3, \"options\", 4, \"ngIf\"], [4, \"ngIf\"], [\"dir\", \"ltr\", 3, \"options\"], [2, \"text-align\", \"center\"], [3, \"options\", \"onItemTap\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mbsc-btn-group-justified\"], [\"type\", \"button\", 2, \"display\", \"block\", 3, \"click\"], [\"type\", \"button\", 3, \"click\"], [1, \"mbsc-ic\", \"mbsc-ic-folder\"], [2, \"font-size\", \"16px\"], [3, \"id\", 4, \"ngFor\", \"ngForOf\"], [3, \"id\"], [\"flat\", \"\", 3, \"click\"], [1, \"mbsc-ic\", \"mbsc-ic-aid\", 2, \"font-size\", \"16px\"], [\"color\", \"secondary\", 3, \"ngModel\", \"ngModelChange\"], [\"flat\", \"\", 3, \"click\", 4, \"ngIf\"]],\n  template: function CategoriesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CategoriesComponent_mbsc_form_0_Template, 11, 3, \"mbsc-form\", 0);\n      i0.ɵɵtemplate(1, CategoriesComponent_router_outlet_1_Template, 1, 0, \"router-outlet\", 1);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.activateTab);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.activateTab);\n    }\n  },\n  directives: [i3.NgIf, i4.MbscForm, i5.Dir, i4.MbscListview, i3.NgForOf, i4.MbscListviewItem, i4.MbscListviewSublist, i4.MbscListviewHeader, i4.MbscButton, i4.MbscCheckbox, i6.NgControlStatus, i6.NgModel, i1.RouterOutlet],\n  styles: [\"\"]\n});","map":null,"metadata":{},"sourceType":"script"}