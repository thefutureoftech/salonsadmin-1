{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.animationFrames = void 0;\n\nvar Observable_1 = require(\"../../Observable\");\n\nvar Subscription_1 = require(\"../../Subscription\");\n\nvar performanceTimestampProvider_1 = require(\"../../scheduler/performanceTimestampProvider\");\n\nvar animationFrameProvider_1 = require(\"../../scheduler/animationFrameProvider\");\n\nfunction animationFrames(timestampProvider) {\n  return timestampProvider ? animationFramesFactory(timestampProvider) : DEFAULT_ANIMATION_FRAMES;\n}\n\nexports.animationFrames = animationFrames;\n\nfunction animationFramesFactory(timestampProvider) {\n  var schedule = animationFrameProvider_1.animationFrameProvider.schedule;\n  return new Observable_1.Observable(function (subscriber) {\n    var subscription = new Subscription_1.Subscription();\n    var provider = timestampProvider || performanceTimestampProvider_1.performanceTimestampProvider;\n    var start = provider.now();\n\n    var run = function (timestamp) {\n      var now = provider.now();\n      subscriber.next({\n        timestamp: timestampProvider ? now : timestamp,\n        elapsed: now - start\n      });\n\n      if (!subscriber.closed) {\n        subscription.add(schedule(run));\n      }\n    };\n\n    subscription.add(schedule(run));\n    return subscription;\n  });\n}\n\nvar DEFAULT_ANIMATION_FRAMES = animationFramesFactory(); //# sourceMappingURL=animationFrames.js.map","map":null,"metadata":{},"sourceType":"script"}